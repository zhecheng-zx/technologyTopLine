<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>科研故事详情页</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<link rel="stylesheet" href="../../css/mui.min.css">
		<link rel="stylesheet" type="text/css" href="../../css/main.css" />
		<style>
			.mui-content.article-detail-wrapper {
				margin: 44px auto 0;
			}
			
			.kr-article-article {
				width: 100%;
				white-space: nowrap;
				font-size: 1.2rem;
				line-height: 2rem;
				color: #333333;
				white-space: pre-wrap;
				/*css-3*/
				white-space: -moz-pre-wrap;
				/*Mozilla,since1999*/
				white-space: -pre-wrap;
				/*Opera4-6*/
				white-space: -o-pre-wrap;
				/*Opera7*/
				word-wrap: break-word;
				/*InternetExplorer5.5+*/
			}
			
			.mui-content .kr-article-article img {
				width: 100%;
			}
			
			.imgBox img {
				max-width: 100%;
				height: 100px;
			}
		</style>
	</head>

	<body>
		<header class="mui-bar mui-bar-nav article-detail-header">
			<h1 id="title" class="mui-title mui-clearfix">
				<span class="mui-icon mui-icon-back mui-pull-left" id="mui-icon-back"></span>
				<span class="text">详情页</span>				
			</h1>
		</header>
		<div class="mui-content article-detail-wrapper mui-scroll-wrapper">
			<div class="mui-scroll" id="detailWrapper">
				<div class="article-title">{{title}}</div>
				<div class="article-info">
					<span class="dateTime">{{time}}</span>
				</div>
				<!--详细内容-->
				<pre id="story_detail" class="kr-article-article" v-html="content">{{content}}</pre>
				<div class="mui-row imgBox" id="imgBox"></div>
				<h6 class="copyright-explain">
					聚科技©著作权归作者所有
				</h6>
			</div>
		</div>

		<script src="../../js/mui.min.js"></script>
		<script src="../../js/vue.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../js/mui.previewimage.js"></script>
		<script>
			mui.init({
				swipeBack: true //启用右滑关闭功能
			});

			mui('.mui-bar').on('tap', '.mui-icon-back', function() {
				mui.back();
			});

			var vm = new Vue({
				el: '#detailWrapper',
				data: {
					title: '',
					time: '',
					content: '',
				}
			});

			mui.plusReady(function() {
				var extras = plus.webview.currentWebview();
				var data = extras.data;

				vm.title = data.title;
				vm.time = data.create_time;
				vm.content = data.content;
				var imageList = data.content_images.split(',');

				var _img = '';
				for(var i in imageList) {
					_img += '<div class="mui-col-sm-12"><img src="' + imageList[i] + '" data-preview-src="' + imageList[i] + '" data-preview-group="img"></div>';
				}
				document.getElementById('imgBox').innerHTML = _img;
			});
		</script>
	</body>

</html>